{"version":3,"sources":["database.js"],"names":["initdb","upgrade","db","objectStoreNames","contains","console","log","createObjectStore","keyPath","autoIncrement","putDb","content","jateDB","tx","transaction","store","objectStore","request","put","id","value","result","getDb","getAll"],"mappings":";;;;;;;AAAA;;AAEA,IAAMA,MAAM,GAAG,SAATA,MAAS;AAAA;AAAA;AAAA;AAAA;AAAA,2CACb,iBAAO,MAAP,EAAe,CAAf,EAAkB;AAChBC,YAAAA,OADgB,mBACRC,EADQ,EACJ;AACV,kBAAIA,EAAE,CAACC,gBAAH,CAAoBC,QAApB,CAA6B,MAA7B,CAAJ,EAA0C;AACxCC,gBAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACA;AACD;;AACDJ,cAAAA,EAAE,CAACK,iBAAH,CAAqB,MAArB,EAA6B;AAAEC,gBAAAA,OAAO,EAAE,IAAX;AAAiBC,gBAAAA,aAAa,EAAE;AAAhC,eAA7B;AACAJ,cAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACD;AARe,WAAlB,CADa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAf,C,CAYA;;;AACO,IAAMI,KAAK,GAAG,SAARA,KAAQ,CAAOC,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAEE,iBAAO,MAAP,EAAe,CAAf,CAFF;;AAAA;AAEbC,UAAAA,MAFa;AAGbC,UAAAA,EAHa,GAGRD,MAAM,CAACE,WAAP,CAAmB,MAAnB,EAA2B,WAA3B,CAHQ;AAIbC,UAAAA,KAJa,GAILF,EAAE,CAACG,WAAH,CAAe,MAAf,CAJK;AAKbC,UAAAA,OALa,GAKHF,KAAK,CAACG,GAAN,CAAU;AAAEC,YAAAA,EAAE,EAAE,CAAN;AAASC,YAAAA,KAAK,EAAET;AAAhB,WAAV,CALG;AAAA;AAAA,0CAMEM,OANF;;AAAA;AAMbI,UAAAA,MANa;AAOnBhB,UAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+Ce,MAA/C;;AAPmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd,C,CAUP;;;;;AACO,IAAMC,KAAK,GAAG,SAARA,KAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CACE,iBAAO,MAAP,EAAe,CAAf,CADF;;AAAA;AACbV,UAAAA,MADa;AAEbC,UAAAA,EAFa,GAERD,MAAM,CAACE,WAAP,CAAmB,MAAnB,EAA2B,UAA3B,CAFQ;AAGbC,UAAAA,KAHa,GAGLF,EAAE,CAACG,WAAH,CAAe,MAAf,CAHK;AAIbC,UAAAA,OAJa,GAIHF,KAAK,CAACQ,MAAN,EAJG;AAAA;AAAA,0CAKEN,OALF;;AAAA;AAKbI,UAAAA,MALa;AAMnBhB,UAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4Ce,MAA5C;AANmB,4CAOZA,MAAM,CAACD,KAPK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;;;AASPpB,MAAM","sourcesContent":["import { openDB } from 'idb';\r\n\r\nconst initdb = async () =>\r\n  openDB('jate', 1, {\r\n    upgrade(db) {\r\n      if (db.objectStoreNames.contains('jate')) {\r\n        console.log('jate database already exists');\r\n        return;\r\n      }\r\n      db.createObjectStore('jate', { keyPath: 'id', autoIncrement: true });\r\n      console.log('jate database created');\r\n    },\r\n  });\r\n\r\n// TODO: Add logic to a method that accepts some content and adds it to the database\r\nexport const putDb = async (content) => {\r\n  // Database and version\r\n  const jateDB = await openDB(\"jate\", 1);\r\n  const tx = jateDB.transaction(\"jate\", \"readwrite\");\r\n  const store = tx.objectStore(\"jate\");\r\n  const request = store.put({ id: 1, value: content });\r\n  const result = await request;\r\n  console.log(\"ðŸš€ - data saved to the database\", result);\r\n};\r\n\r\n// TODO: Add logic for a method that gets all the content from the database\r\nexport const getDb = async () => {\r\n  const jateDB = await openDB(\"jate\", 1);\r\n  const tx = jateDB.transaction(\"jate\", \"readonly\");\r\n  const store = tx.objectStore(\"jate\");\r\n  const request = store.getAll();\r\n  const result = await request;\r\n  console.log(\"ðŸš€ - data read from database\", result);\r\n  return result.value;\r\n};\r\ninitdb();"],"file":"database.dev.js"}